# Практика. «Трансферный рынок»

## Описание
В этом проекте была разработана система моделирования трансферного рынка, в которой несколько футбольных клубов одновременно покупают игроков из общего списка.

Была обеспечена корректная работа системы при одновременном доступе множества клубов к общему списку игроков с использованием механизмов синхронизации.

## Требования
*   **Многопоточность**: Каждый клуб работает в отдельном потоке.
*   **Синхронизация**: Исключить возможность продажи одного игрока разным клубам.
*   **Бюджет**: У каждого клуба есть ограниченный бюджет на трансферы.
*   **Логика**: Клубы покупают игроков, пока хватает бюджета.

## Необходимые инструменты
*   **Синхронизация**: ReentrantLock или synchronized
*   **Потоки**: ExecutorService, Runnable или Thread

## Автор
Шалин Дмитрий Александрович

## Результаты
Все результаты работы программы можно найти в исходном коде проекта.

### Сценарий работы
1.  Создан общий список игроков с их именами и ценами.
2.  Создан список клубов с их названиями и начальным бюджетом.
3.  Запущены потоки для каждого клуба.
4.  Каждый клуб в цикле пытается купить самого дешевого доступного игрока, если у него хватает денег.
5.  При покупке игрока его цена вычитается из бюджета клуба, а сам игрок удаляется из общего списка.
6.  Потоки синхронизированы, чтобы избежать гонки за ресурсами (один игрок не может быть куплен двумя клубами одновременно).
7.  Программа завершает работу, когда все клубы потратили свой бюджет или все игроки были куплены.


### Пример вывода программы
```
Бавария начал покупки с бюджетом 180 млн €
Реал Мадрид начал покупки с бюджетом 300 млн €
...
ПСЖ купил Эрлинг Холанн за 170 млн €. Остаток бюджета: 80 млн €
Бавария купил Лионель Месси за 50 млн €. Остаток бюджета: 130 млн €
...
Торги закончены

Итоги
Реал Мадрид:
Потрачено: 135 млн € | Остаток: 165 млн € | Игроков: 2
Барселона:
Потрачено: 180 млн € | Остаток: 20 млн € | Игроков: 1
Манчестер Сити:
Потрачено: 220 млн € | Остаток: 180 млн € | Игроков: 2
ПСЖ:
Потрачено: 240 млн € | Остаток: 10 млн € | Игроков: 2
Бавария:
Потрачено: 50 млн € | Остаток: 130 млн € | Игроков: 1
Челси:
Потрачено: 140 млн € | Остаток: 10 млн € | Игроков: 2

Остались непроданными: Все игроки проданы!
```

### Ключевые классы
*   `FootballPlayer`: Класс, представляющий игрока с полями `name` и `price`.
*   `FootballClub`: Класс, представляющий клуб с полями `name`, `budget` и ссылкой на общий рынок (`market`).
*   `TransferMarket`: Класс, представляющий общий рынок игроков, который содержит список `players` и предоставляет методы для синхронизированной покупки.
*   `Main`: Главный класс, запускающий программу и создающий потоки для клубов.